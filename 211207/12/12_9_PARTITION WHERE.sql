USE MagicCorp
GO

SELECT *
FROM	
		(SELECT DNO, ENAME, SALARY, RANK() OVER(PARTITION BY DNO ORDER BY SALARY DESC) 
		AS RANK_VAL FROM EMPLOYEE) AS TEMP

WHERE RANK_VAL = 2