USE MagicCorp
GO

CREATE FUNCTION MAX_SAL
(@para INT)
RETURNS INT
AS
BEGIN

DECLARE @MAX_VAL INT

SELECT @MAX_VAL = MAX(SALARY)
FROM EMPLOYEE
WHERE DNO = @para

RETURN @MAX_VAL
END

GO

SELECT *
FROM EMPLOYEE
WHERE SALARY = dbo.MAX_SAL(30)