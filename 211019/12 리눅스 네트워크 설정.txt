12 리눅스 네트워크 설정

리눅스네트워크 설정 은 윈도우 운영체제와 다르지 않음
하지만 서버 관리자는 네트워크 관련 명령을 알아야함

네트워크 설정을 위해 알아야할것
DNS 서버 주소
IP주소
넷마스크 값 
게이트웨이 주소

네트워크 기초 // 네트워크 설정

네트워크 기초
네트워크 이해 
네트워크  관련 명령어

네트워크 이해
1 TCP/IP (Transmission Control Protocol/Internet Protocol
네트워크 전송 프로토콜
TCP 프로토콜과 IP 프로토콜로 구성

TCP/IP 프로토콜 : 인터넷 표준 프로토콜
TCP 프로토콜 전송 데이터 일정단위로 나누고 포장
IP 프로토콜 직접 데이터를 주고 받는것

2 IP주소
네트워크상 존재하는 컴퓨터의 고유번호
IPv4 대부분사용 주소를 숫자4개(4byte) 구성 각 숫자는 0~255 사용
IPv6 점차적으로 사용확대

IPv4에 대한 IP클래스
IP클래스		 IP주소 범위 		서브넷마스크
A		0.0.0.0~127.255.255.255	255.0.0.0
B		128.0.0.0~191.255.255.255	255.255.0.0
C		192.0.0.0~223.255.255.255	255.255.255.0 -> 주로 사용
D		224.0.0.0~239.255.255.255	멀티캐스트용
E		240.0.0.0~255.255.255.255	연구용 등으로 예약

자기 자신을 의미하는 IP 127.0.0.1

3 공인 IP와 사설IP
공인 IP
공인기관에서 할당받음 // 네트워크상에 공개된 유일한 IP // 누구나 공인IP알면 접속가능
사설IP
내부적으로만 사용 // 누구나 사용가능
사설IP 대역
10.0.0.1~10.255.255.254
172.16.0.1~172.31.255.254
192.168.0.1~192.168.255.254 (가상 VMware 에 설치한 리눅스 IP)

4 호스트이름과 도메인이름
IP주소는 숫자로 이루어져 사용이 불편
둘다 문자열 형태임
호스트 이름 서버컴퓨터에 지정된 이름
도메인 이름 해당 기관을 대표하는 인터넷 주소

호스트이름과 도메인이름 이용 서버접속 하려면 해당 이름이 DNS 서버에 등록해야함
자기 자신을 의미하는 IP : localhost 127.0.0.1
프로토콜 이름://호스트이름.도메인이름
http://www.e-koreatech.ac.kr

5 서브넷 마스트 subnet mask
하나의 네트워크를 작은 네트워크로 분할
네트워크 주소와 호스트 주소를 구분하는 값
네트워크 주소 네트워크를 대표하는 값
브로드캐스트 주소 네트워크전체 컴퓨터에서 방송하는 주소

서브넷마스크 255.255.255.0
IP주소 [192.168.83](네트워크주소).3(호스트주소)
네트워크주소 192.168.83.0 네번째값이 0임
브로드캐스트주소 192.168.83.255 네번째값이 255

6 게이트웨이 / DNS
게이트웨이
내부 네트워크에서 외부네트워크로 통신을 하기위한 통로 - 역할 : 컴퓨터 또는 라우터
DNS 서버 
IP주소를 호스트와 도메인 이름으로 변환해주는 서비스 제공 서버 

네트워크 관련명령어
1 네트워크 장치 및 내용
장치면 페도라 리눅스 버전, 설치되는 컴퓨터에 따라 달라짐 ens32, ens33, eth0, eth1 
xxx값은 컴퓨터에따라 달라질수잇음
IP주소 192.168.xxx.3
서브넷마스크 255.255.255.0
네트워크주소 192.168.xxx.0
브로드캐스트주소 192.168.xxx.255
게이트웨이 192.168.xxx.2
DNS 192.168.xxx.2

2 ping Packet INternet Grouper
ping 명령 가장 많이 사용 네트워크 명령어, 특정 컴퓨터가 네트워크 연결 확인 , IP기반 네트워크에 연결된 호스트끼리 접속성확인
인터넷문제확인
자기자신의 컴퓨터 동작확인 -> 게이트웨이  동작확인 -> DNS 동작확인
서버에서 ping 명령 응답안되도록 되어있으면 파악안됨

3 dmesg 명령
리눅스 부팅메시지보기
네트워크 장치정보보기 grep명령// 네트워크 장치이름확인 // 네트워크 장치 인식여부

4 ifconfig 명령
네트워크 장치에 설정된 네트워크 정보 확인명령
네트워크 장치명 지정 실행하면 해당 장치명에 대한 각종 설정,  내용 확인
장치면 지정 안하면 리눅스에 설정된 모든 네트워크 장치 정보나타남
확인되는 정보 IP주소 서브넷마스크, 네트워크 인터페이스카드 MAC 주소

5 ifup/ ifdown 명령
ifup 네트워크 장치 활성화
ifdown 네트워크 장치 비활성화

6 systemctl 명령
시스템 또는 서비스(리눅스에 필요한 동작을 하는 백그라운드프로세스)의 상태를 확인하거나 제어하는 명령
네트워크 서비스 상태 확인 또는 제어
systemctl start network 네트워크 서비스 시작
systemctl stop network 네트워크 서비스 중지
systemctl restart network 네트워크 서비스 재시작
systemctl status network 네트워크 서비스 상태보기

7 nslookup 명령
DNS 서버 동작 검사 명령 
DNS 서버 도메인 이름에 대한 IP주소를 찾아주는 서버
DNS 서버 동작 검사
명령어입력 -> DNS 서버접속 -> 인터넷 주소입력 -> 해당 서버 IP주소확인 -> IP주소 입력 -> 인터넷 주소 확인

8 실습
[ root@localhost ~] # ifconfig
lo 로컬 룩백장치 자기자신의 ip주소 가상장치

[ root@localhost ~] # dmesg | grep network
[ root@localhost ~] # dmesg | grep ens33

[ root@localhost ~] # ifdown ens33 ens33 비활성화 
[ root@localhost ~] # ifup ens33 활성화

[ root@localhost ~] # ifconfig 인터넷 안되면 게이트웨이 먼저 확인
[ root@localhost ~] # ping 게이트웨이주소 ctrl c 로 중지

[ root@localhost ~] # nslookup DNS 서버확인
프롬프트가 떨어지면 서버 접속된것
인터넷 주소를 입력하면 서버 ip확인

네트워크 서비스
[ root@localhost ~] # status network
active 되어있어야 서비스된것

네트워크 설정
네트워크 설정 방법 x윈도우에서 제공
현재 활동 -> 프로그램 표시 -> 설정 -> 네트워크 (파일 수정됨)
네트워크 서비스 재시작 필요
# systemctl restart network 
수정된 내용 적용

실습
현재 활동 -> 프로그램 표시 -> 설정 -> 네트워크 
우측 하단 톱니바퀴 
IPv4 주소 수동으로 변경
주소 192.168.153.120
네트마스크 255.255.255.0
게이트웨이 192.168.153.2
DNS 192.168.153.2

적용 누르고 네트워크재시작

[ root@localhost ~] # ifconfig 변경된 주소 확인

주소 변경 후 웹브라우저 안되면 nslookup 으로 확인













