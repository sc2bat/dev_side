응용 SW 기초 활용 기술 part 2
VLAN의 이해

VLAN의 이해
VLAN의 구축

VLAN(Virtual LAN)의 개념과 구성 방법을 설명할 수 있다.
스위치(Switch)와 라우터(Router)를 이용하여 VLAN을 구축 할 수 있다. 

VLAN의 이해

1. VLAN의 개요

1) VLAN의 개요
하나의 동일한 네트워크는 동일한 브로드캐스트 영역을 가짐

ARP
- 통신하고자 하는 IP 주소에 해당하는 MAC 주소를 획득하기 위한 프로토콜
- 자신이 속한 네트워크의 모든 기기들에게 ARP 요청을 전송하는 브로드캐스트 통신을 함
- 많은 수의 기기가 연결되어 있을 경우, 불필요한 부하 발생
	↓↓
적정한 수의 네트워크로 분리하는 것이 필요함
- VLAN(Virtual LAN)

스위치에 연결되는 네트워크를 여러 개의 논리적 네트워크로 분할하는 기술
- 한 대의 스위치를 여러 대의 분리된 스위치처럼 사용

동일한 스위치에 연결된 기기들의 브로드캐스트 도메인이 다를 수 있음
- 하나의 스위치에 다른 네트워크(LAN) 연결 가능

VLAN 설정을 하지 않으면, 스위치는 연결된 모든 기기가 동일한 브로드캐스트 영역에 위치한 것으로 간주함

학교 구성원의 역할에 따라 네트워크 설정을 다르게 하여 네트워크를 구축했을 경우,
동일한 네트워크에 속한 구성원이 같은 건물 혹은 사무실에 위치하지 않을 수 있음

여러 개의 네트워크 정보를 하나의 포트를 통해 전송 가능

라우터(Router)를 통해 네트워크 간 통신 가능


2. VLAN의 구성

1) 정적 VLAN
가장 일반적인 방식으로 스위치의 각 포트를 원하는 VLAN에 하나씩 배정
- 사용자가 포트를 변경하여 동일한 VLAN에 접근이 필요할 경우, 네트워크 관리자는 새로운 연결을 위해 수동으로 해당 포트에 VLAN을 할당함
- 사용자 임의로 사용 포트 변경 시, 네트워크에 참여하지 못할 수도 있음
- 하나의 스위치에 여러 논리적 네트워크를 구분하기 위해 케이블에 캡을 이용하여 VLAN을 표시할 경우 관리가 용이함

대부분의 스위치에서 사용하는 방식

2) 동적 VLAN

소프트웨어를 이용하여 VLAN 구성
- VMPS(VLAN Management Policy Server)는 포트에 연결되는 기기의 출발지 MAC 주소
나, 기기에 로그온하기 위해 사용한 사용자 이름 등의 정보에 기반하여 스위치 포트를
VLAN에 동적으로 할당

주로 대형 스위치에서 제공


VLAN의 구축

1. 스위치(Switch)와 라우터(Router)의 이해

1) L2 스위치(Switch)

L2 스위치
- 네트워크 기기들을 연결하는 네트워킹 장치
- OSI 2계층에 해당
(과거에는 OSI 모델의 2계층까지만 지원했으나,기술 발전에 따라 3계층, 또는 그 상위 계층까지 지원하는 스위치가 있음)

데이터를 통신하고자 하는 기기에만 전송
- 송신과 수신을 동시에 수행(전이중 통신 방식)
- 연결된 기기의 MAC 주소를 관리하고 있어야 하며, 이 주소를 통해 어떤 데이터가 어디로 전송되어야 하는지를 판단함

2) 라우터(Router)
라우터
- OSI 3계층에 해당하는 장치
- 서로 다른 네트워크를 연결
	↓↓
다른 네트워크 간의 통신을 위해 패킷이 목적지까지 갈 수 있도록 경로를 설정함

정해진 경로에 따라 패킷을 다음 라우터로 전송함

경로를 관리하는 라우팅 테이블을 작성하고 관리함


3) 스위치(Switch)와 라우터(Router) 명령 설정 모드

사용자 모드(User EXEC Mode) 
- 스위치/라우터 접속 시 나타나는 모드로, 제한적인 명령어만 사용 가능
- 스위치/라우터에서 설정할 수 있는 명령어가 없음

관리자 모드 (Privileged EXEC Mode) 
- 설정 내용의 확인, 각종 정보 확인, 설정 저장, 복사 등이 가능
- 간단한 설정 가능

전역 설정 모드 (Global ConfigurationMode)
- 스위치에서 VLAN 설정을 하거나, 라우터에서 인터페이스별 IP주소 설정 등과 같이 각종 설정을 수행하는 모드

모드 전환 명령어
각 모드 별로 프롬프트에 나타는 것이 다름 이걸로 모드 확인
						configure
		enable(en)			terminal(conf t) 	
사용자 모드	→→→→→	관리자 모드	→→→→→	전역 설정 모드
Router> 		←←←←←	Router#		←←←←← 	Router(config)#	
		disable				exit	
		(또는 exit)			
				
2. VLAN 구축

Trunking
- OSI 3계층에 해당하는 장치
- 서로 다른 네트워크를 연결 

하나의 Trunking을 통해 여러 VLAN의 정보를 전달할 수 있음
- 트래픽이 하나의 링크를 통해 이동할 수 있게 만들어진 것

각 VLAN에 Trunking에 자신의 패킷을 전송할 때, 자신의 VLAN 정보를 추가하여 전송

IEEE802.1Q
- 표준 Trunking Protocol
- Trunk 구간에서 VLAN 정보를 인캡슐레이션

vlan 구성 실습
